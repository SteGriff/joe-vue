<!DOCTYPE HTML>
<html>
<head>
<title>JOE</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="tachyons.min.css">
<style>
tbody.topmargin::before
{
  content: '';
  display: block;
  height: 15px;
}
</style>
</head>
<body class="sans-serif">
	<main id="app" class="pa2">
		
		<h2>Dataview</h2>

		<div class="overflow-auto">
		
			<joe-table inline-template v-model="data"> 
				<table>
					<tbody v-for="(entity, ekey) in value">
						<tr>
							<td v-for="(field, key) in entity">
								<joe-input inline-template
									v-model="value[ekey][key]"
									v-bind:name="key">
									<div>
									<label :for="name">
										{{name}}
									</label>
									<input
										:id="name"
										:name="name"
										:value="value"
										v-on:input="$emit('input', $event.target.value)"/>
									</div>
								</joe-input>
							</td>
						</tr>
					</tbody>
				</table>
			</joe-table>
			
			<joe-ul inline-template v-model="data">
				<ul>
					<li v-for="entity in value">
						{{entity.name}}
						<ul>
							<li v-for="(value, key) in entity">
								<b>{{key}}</b> : {{value}}
							</li>
						</ul>
					</li>
				</ul>
			</joe-ul>
			
		</div>
		
	</main>
	
	<script src="vue.js"></script>
	<script src="components/components.js"></script>
	<script src="app.js"></script>
</body>
</html>